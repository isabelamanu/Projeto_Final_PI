{% extends 'base.html' %}

{% block content %}

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clientes Cadastrados - AgendaDoce</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <div class="page-header-content">
                <h2 class="page-title">Nossos <span class="highlight">Clientes</span></h2>
                <p class="page-description">
                    Gerencie todos os clientes cadastrados na AgendaDoce. Visualize informa√ß√µes, hist√≥rico de pedidos e mantenha o relacionamento sempre atualizado.
                </p>
                <div class="filter-tabs">
                    <button class="filter-tab active">Todos</button>
                    <button class="filter-tab">Ativos</button>
                    <button class="filter-tab">Inativos</button>
                    <button class="filter-tab">VIPs</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Estat√≠sticas dos Clientes -->
    <section class="encomendas">
        <div class="container">
            <div class="encomendas-stats">
                <div class="stat-card">
                    <div class="stat-icon">üë•</div>
                    <div class="stat-content">
                        <p class="stat-number">248</p>
                        <p class="stat-label">Total de Clientes</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚≠ê</div>
                    <div class="stat-content">
                        <p class="stat-number">32</p>
                        <p class="stat-label">Clientes VIP</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üéÇ</div>
                    <div class="stat-content">
                        <p class="stat-number">4.8</p>
                        <p class="stat-label">Pedidos por Cliente</p>
                    </div>
                </div>
            </div>

            <!-- Grid de Clientes -->
            <div class="encomendas-grid">
                <!-- Cliente 1 -->
                {% for cliente in clientes %}
                    <div class="encomenda-card">
                        <div class="encomenda-header">
                            <div class="encomenda-id">#CLI00{{ cliente.id }}</div>
                            <div class="status-badge status-pronto">Ativo</div>
                        </div>
                        <div class="encomenda-content">
                            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                                <div style="width: 60px; height: 60px; background: #fce7f3; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: 600; color: #ec4899;">
                                    MS
                                </div>
                                <div>
                                    <h3 class="encomenda-title" style="margin-bottom: 0.25rem;">{{ cliente.username }}</h3>
                                </div>
                            </div>
                            <div class="encomenda-details">
                                <div class="detail-item">
                                    <span class="detail-label">CPF:</span>
                                    <span class="detail-value">{{ cliente.cpf }}</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Email:</span>
                                    <span class="detail-value">{{ cliente.email }}</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Telefone:</span>
                                    <span class="detail-value">{{ cliente.telefone }}</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Endere√ßo:</span>
                                    <span class="detail-value">{{ cliente.endereco }}</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Pedidos:</span>
                                    <span class="detail-value">8 encomendas</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Total Gasto:</span>
                                    <span class="detail-value">R$ 1.440,00</span>
                                </div>
                            </div>
                            <div style="display: flex; gap: 0.5rem; margin-top: 1.5rem; flex-wrap: wrap;">
                                <div style="display: flex; gap: 0.5rem; margin-top: 1.5rem; flex-wrap: wrap;">
                                    <a class="btn-card" href="{% url 'perfil' %}" style="flex: 1; min-width: 80px;">Ver Detalhes</a>
                                    {% if user.is_administrador %}
                                    <a href="{% url 'cliente_update' id=cliente.id %}" class="btn-secondary" style="padding: 0.5rem 1rem; font-size: 0.875rem;">Editar</a>
                                    <a href="{% url 'cliente_delete' id=cliente.id %}" style="background: #ef4444; color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; font-size: 0.875rem; cursor: pointer;">Excluir</a>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}

                <!-- Cliente 2 -->
                <div class="encomenda-card">
                    <div class="encomenda-header">
                        <div class="encomenda-id">#CLI002</div>
                        <div class="status-badge status-entregue">VIP</div>
                    </div>
                    <div class="encomenda-content">
                        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                            <div style="width: 60px; height: 60px; background: #fce7f3; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: 600; color: #ec4899;">
                                JS
                            </div>
                            <div>
                                <h3 class="encomenda-title" style="margin-bottom: 0.25rem;">Jo√£o Santos</h3>
                                <p style="color: #6b7280; font-size: 0.875rem;">Cliente desde Mar/2022</p>
                            </div>
                        </div>
                        <div class="encomenda-details">
                            <div class="detail-item">
                                <span class="detail-label">Email:</span>
                                <span class="detail-value">joao@email.com</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Telefone:</span>
                                <span class="detail-value">(11) 98888-7777</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Pedidos:</span>
                                <span class="detail-value">15 encomendas</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">√öltimo Pedido:</span>
                                <span class="detail-value">10/01/2024</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Total Gasto:</span>
                                <span class="detail-value">R$ 2.850,00</span>
                            </div>
                        </div>
                        <div style="display: flex; gap: 0.5rem; margin-top: 1.5rem; flex-wrap: wrap;">
                            <a class="btn-card" href="{% url 'perfil' %}" style="flex: 1; min-width: 80px;">Ver Detalhes</a>
                            {% if user.is_administrador %}
                            <a href="{% url 'cliente_update' id=cliente.id %}" class="btn-secondary" style="padding: 0.5rem 1rem; font-size: 0.875rem;">Editar</a>
                            <a href="{% url 'cliente_delete' id=cliente.id %}" style="background: #ef4444; color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; font-size: 0.875rem; cursor: pointer;">Excluir</a>
                            {% endif %}
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </section>

</body>
</html>

{% endblock %}